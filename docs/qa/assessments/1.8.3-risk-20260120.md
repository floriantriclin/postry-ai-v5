# Risk Assessment: Story 1.8.3 - UX "Tech & Brut" & Robustness

**Date:** 2026-01-20
**Author:** QA Architect
**Story:** [Story 1.8.3: Exp√©rience "Tech & Brut" & Robustesse](../../stories/story-1-8-3-ux-robustness.md)

## 1. Executive Summary

This story introduces the visual identity "Tech & Brut" (animations, loaders) and a critical robustness feature: client-side persistence via `localStorage`. The primary risks shift from "Data Integrity" (API side) to "Client-Side Reliability" and "User Experience" (Accessibility/Motion).

## 2. Risk Analysis Matrix

| ID | Risk Description | Likelihood | Impact | Severity | Mitigation Strategy |
|----|------------------|------------|--------|----------|---------------------|
| **R-UX-01** | **Motion Sensitivity:** The "Tech" loader (flashing/monospaced sequences) and "Snap" transitions may trigger discomfort (motion sickness/photosensitivity) for some users. | Medium | High | **High** | Ensure `prefers-reduced-motion` media query is respected. Keep flashing rates below seizure thresholds (WCAG). |
| **R-PER-01** | **State Hydration Mismatch:** When reloading, the state restored from `localStorage` might conflict with the initial server state or updated logic, causing React hydration errors or UI glitches. | Medium | Medium | **Medium** | Implement robust validation/schema checking (Zod) on the stored data before hydrating. |
| **R-PER-02** | **Stale Data:** A user returns after a long period; the stored quiz schema (question IDs) has changed, but the local state refers to old IDs, breaking the flow. | Low | High | **Medium** | Add a `version` or `timestamp` to the stored state. Invalidate/clear storage if the version mismatches the current app version. |
| **R-PER-03** | **Storage Quota/Disabled:** `localStorage` is disabled (private browsing strict modes) or full, causing the hook to crash or fail silently. | Low | Low | **Low** | Wrap storage calls in try/catch. Ensure the app works (gracefully degrades) even if persistence fails. |
| **R-UX-02** | **"Zero Friction" Accidental Clicks:** Immediate validation upon clicking a response prevents users from correcting accidental clicks. | High | Medium | **High** | *Design Decision Review:* Ensure the click targets are distinct. On Mobile, consider if a confirmation is needed (though story says "Zero Friction"). Monitor bounce rates/back navigation attempts in analytics. |
| **R-UI-01** | **Degraded Mode Confusion:** The "Tech" styled error toast might be interpreted as a decorative element rather than a critical error if the affordance is too abstract. | Low | High | **Medium** | Ensure the error message text is clear and actionable despite the "Brut" styling. |

## 3. Focus Areas for QA

### 3.1. Robustness (The "F5" Test)
The core technical value is persistence. We must verify that the user can leave the page, reload, or close the tab and return to the exact same state.

### 3.2. Accessibility (A11y)
With "Brut" design comes the risk of poor contrast and aggressive motion.
- **Contrast:** Check "Tech" theme colors against WCAG AA.
- **Motion:** Check `prefers-reduced-motion`.

### 3.3. Performance
"Snap" transitions and JS-driven "Machine" loaders must not block the main thread, especially on mobile devices.

## 4. Recommendations
1.  **Version the State:** Add a `schemaVersion` to the `localStorage` payload immediately to prevent future migration headaches.
2.  **A11y Audit:** Run a Lighthouse/Axe scan specifically on the Loading states.
