# Risk Profile: Story 1.3

Date: 2026-01-19
Reviewer: Quinn (Test Architect)

## Executive Summary

- Total Risks Identified: 4
- Critical Risks: 0
- High Risks: 2
- Risk Score: 72/100

## High Risks Requiring Attention

### 1. TECH-002: Quiz State Machine Logic Flaws

**Score: 6 (High)**
**Probability**: Medium (2) - The story introduces a multi-step flow (`THEMES` -> `INSTRUCTIONS` -> `PHASE1` -> `TRANSITION` -> `PHASE2` -> `REVEAL`) managed by a `useReducer`. Edge cases in navigation (e.g., using the browser back button vs. UI back button, or refreshing mid-quiz) are common sources of bugs.
**Impact**: High (3) - If the user gets stuck or state desynchronizes, they cannot complete the acquisition funnel.
**Mitigation**:
- strict typing of the Action/State in TypeScript.
- Unit tests covering all state transitions in the reducer.
- Persist state (optional for this story, but good practice) or handle "fresh load" gracefully (redirect to start).
**Testing Focus**: State transition testing, edge case navigation (rapid clicking, back/forth).

### 2. UX-002: Neo-Brutalist Layout Breakage on Mobile

**Score: 6 (High)**
**Probability**: Medium (2) - Neo-Brutalist design often relies on fixed borders, hard shadows, and specific spacing. These elements are prone to overflow or overlapping on smaller screens (e.g., iPhone SE, foldables) if not tested rigorously with varying content lengths.
**Impact**: High (3) - Mobile is the primary acquisition channel. Visual defects immediately lower perceived quality and trust.
**Mitigation**:
- Use generic `Component` wrappers that handle overflow standardly.
- Test with "Worst Case" content lengths in mock data.
**Testing Focus**: Visual regression on multiple viewports (320px, 375px, 390px).

## Risk Distribution

### By Category

- Technical: 2 risks (1 High)
- UX/Design: 2 risks (1 High)
- Performance: 0 risks
- Security: 0 risks

### By Component

- Frontend (Logic): 2 risks
- Frontend (UI): 2 risks

## Detailed Risk Register

| Risk ID  | Description                                      | Probability | Impact     | Score | Priority |
| -------- | ------------------------------------------------ | ----------- | ---------- | ----- | -------- |
| TECH-002 | Quiz State Machine Logic Flaws (Stuck/Desync)    | Medium (2)  | High (3)   | 6     | High     |
| UX-002   | Neo-Brutalist Layout Breakage on Mobile          | Medium (2)  | High (3)   | 6     | High     |
| UX-003   | Navigation Confusion (Back Button Behavior)      | Medium (2)  | Medium (2) | 4     | Medium   |
| TECH-003 | Mock Data Schema Drift vs Future Backend         | Low (1)     | Medium (2) | 2     | Low      |

## Risk-Based Testing Strategy

### Priority 1: High Risk Tests
- **State Logic Unit Tests**: Verify `useReducer` handles all valid transitions and ignores invalid ones.
- **Visual Responsiveness Check**: Verify the "Question Card" and "Theme Selector" on 320px width devices. Ensure borders/text do not overflow.

### Priority 2: Medium Risk Tests
- **Navigation Flow**: Manually test the "Back" button behavior. Ensure it correctly reverts the state (e.g., popping the last answer) without breaking the progress bar calculation.

### Priority 3: Low/Minimal Risk Tests
- **Data Integrity**: Verify the `mock-quiz.json` loads correctly and matches the TypeScript interfaces defined for the components.

## Risk Acceptance Criteria

### Must Fix Before Production
- TECH-002: No blocking bugs in the quiz flow.
- UX-002: No visual overlap or cutoff content on standard mobile widths (375px+).

### Can Deploy with Mitigation
- UX-003: If standard browser back button behaves weirdly, accept for this "Foundation" story as long as in-app navigation works.
