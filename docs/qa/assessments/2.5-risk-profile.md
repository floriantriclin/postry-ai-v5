# Profil de Risque : Story 2.5 - Vue "Post Révélé"

**Date:** 2026-01-24
**Auteur:** Gemini Test Architect

## 1. Contexte

Ce document évalue les risques potentiels associés à la Story 2.5, qui se concentre sur l'affichage du premier post généré à un utilisateur nouvellement authentifié. L'analyse s'appuie sur les [critères d'acceptation de la story](<docs/stories/story-2-5-post-view.md>) et les [standards de test du projet](<docs/architecture/testing-standards.md>).

## 2. Analyse des Risques

| ID | Domaine | Description du Risque | Probabilité | Impact | Niveau de Risque | Stratégie de Mitigation |
| :-- | :--- | :--- | :--- | :--- | :--- | :--- |
| **R-2.5-01** | **Sécurité** | La route protégée `/dashboard` est accessible par un utilisateur non authentifié. | **Moyenne** | **Critique** | **Élevé** | **Tests E2E & Manuels** : Vérifier la redirection pour les utilisateurs non connectés. Tenter d'accéder à la page en manipulant les cookies/le state. |
| **R-2.5-02** | **Fonctionnel** | Les données du post ne sont pas récupérées ou affichées correctement depuis Supabase. | **Élevée** | **Critique** | **Élevé** | **Tests d'Intégration (côté serveur)** : Valider la requête Supabase. **Tests UI (Composant)** : Tester le composant avec des données mockées (succès, chargement, erreur). |
| **R-2.5-03** | **UX/UI** | L'animation de révélation ("Wow Effect") ne se déclenche pas, est saccadée ou provoque des bugs visuels. | **Élevée** | **Moyen** | **Moyen** | **Tests E2E (Playwright)** : Utiliser des `waitFor` pour valider les changements de classes CSS (`blur-sm` -> `blur-0`). **Tests Manuels** : Validation visuelle sur les navigateurs cibles (Chrome, Firefox). |
| **R-2.5-04** | **UX/UI** | Le design "neo-brutaliste" (ombres, bordures, polices) ne s'affiche pas comme prévu, nuisant à l'identité visuelle. | **Moyenne** | **Moyen** | **Moyen** | **Tests E2E (Snapshot)** : Comparaison visuelle automatisée pour détecter les régressions de style. **Tests Manuels** : Revue de design. |
| **R-2.5-05** | **Fonctionnel** | Le bouton "Copier le texte" ne fonctionne pas ou le feedback visuel ("COPIÉ !") est absent. | **Moyenne** | **Moyen** | **Moyen** | **Tests Unitaires** : Tester le hook `useCopyToClipboard`. **Tests E2E** : Simuler un clic et vérifier l'état du clipboard (si possible) et le changement de label du bouton. |
| **R-2.5-06** | **Fonctionnel** | La gestion de l'état "vide" (aucun post trouvé) n'est pas fonctionnelle et ne propose pas d'action claire à l'utilisateur. | **Faible** | **Moyen** | **Faible** | **Tests UI (Composant)** : Passer une prop `post={null}` et vérifier que le message et le bouton de retour s'affichent. |
| **R-2.5-07** | **Responsive** | L'affichage du post et de ses contrôles est dégradé sur les appareils mobiles. | **Élevée** | **Faible** | **Faible** | **Tests Manuels** : Validation sur Chrome DevTools et un appareil mobile réel. **Tests E2E (Snapshot)** : Snapshots sur différentes tailles de viewport. |
| **R-2.5-08** | **Sécurité** | Le bouton de déconnexion ne met pas fin correctement à la session utilisateur. | **Faible** | **Élevé** | **Moyen** | **Tests E2E** : Scénario complet : connexion, déconnexion, puis tentative d'accès à `/dashboard` qui doit échouer. |

## 3. Synthèse et Recommandations

Les risques les plus élevés (**R-2.5-01**, **R-2.5-02**) concernent la sécurité d'accès et l'intégrité de la donnée, qui sont le coeur de la fonctionnalité. Ils doivent être couverts en priorité par des tests automatisés robustes.

Les risques liés à l'UX/UI (**R-2.5-03**, **R-2.5-04**) sont également importants car ils impactent directement la perception de valeur par l'utilisateur. Une combinaison de snapshots E2E et de validation manuelle est recommandée pour s'assurer que l'effet "Wow" est bien au rendez-vous.
